<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Documentation: FAQ"><title>clap::_faq - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-c4dbdcde0fbd8430.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../../static.files/light-db279b6232be9c13.css"><link rel="stylesheet" disabled href="../../static.files/dark-cf923f49f397b216.css"><link rel="stylesheet" disabled href="../../static.files/ayu-be46fdc453a55015.css"><script src="../../static.files/storage-3891ce972e3a2bf8.js"></script><script defer src="../../static.files/main-98a684e84ae5b08b.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../clap/index.html"><img src="https://raw.githubusercontent.com/clap-rs/clap/master/assets/clap.png" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../clap/index.html">
                <img src="https://raw.githubusercontent.com/clap-rs/clap/master/assets/clap.png" alt="logo"></a><h2 class="location"><a href="#">Module _faq</a></h2><div class="sidebar-elems"></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">clap</a>::<wbr><a class="mod" href="#">_faq</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/clap/_faq.rs.html#1-95">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="documentation-faq"><a href="#documentation-faq">Documentation: FAQ</a></h2>
<ol>
<li><a href="#comparisons">Comparisons</a>
<ol>
<li><a href="#how-does-clap-compare-to-structopt">How does <code>clap</code> compare to structopt?</a></li>
<li><a href="#what-are-some-reasons-to-use-clap-the-pitch">What are some reasons to use <code>clap</code>? (The Pitch)</a></li>
<li><a href="#what-are-some-reasons-not-to-use-clap-the-anti-pitch">What are some reasons <em>not</em> to use <code>clap</code>? (The Anti Pitch)</a></li>
<li><a href="#reasons-to-use-clap">Reasons to use <code>clap</code></a></li>
</ol>
</li>
<li><a href="#how-many-approaches-are-there-to-create-a-parser">How many approaches are there to create a parser?</a></li>
<li><a href="#when-should-i-use-the-builder-vs-derive-apis">When should I use the builder vs derive APIs?</a></li>
<li><a href="#why-is-there-a-default-subcommand-of-help">Why is there a default subcommand of help?</a></li>
</ol>
<h4 id="comparisons"><a href="#comparisons">Comparisons</a></h4>
<p>First, let me say that these comparisons are highly subjective, and not meant
in a critical or harsh manner. All the argument parsing libraries out there (to
include <code>clap</code>) have their own strengths and weaknesses. Sometimes it just
comes down to personal taste when all other factors are equal. When in doubt,
try them all and pick one that you enjoy :). There’s plenty of room in the Rust
community for multiple implementations!</p>
<p>For less detailed but more broad comparisons, see
<a href="https://github.com/rust-cli/argparse-benchmarks-rs">argparse-benchmarks</a>.</p>
<h5 id="how-does-clap-compare-to-structopt"><a href="#how-does-clap-compare-to-structopt">How does <code>clap</code> compare to structopt?</a></h5>
<p>Simple! <code>clap</code> <em>is</em> <code>structopt</code>.  <code>structopt</code> started as a derive API built on
top of clap v2.  With clap v3, we’ve forked structopt and integrated it
directly into clap.  structopt is in
<a href="https://github.com/TeXitoi/structopt/issues/516#issuecomment-989566094">maintenance mode</a>
with the release of <code>clap_derive</code>.</p>
<p>The benefits of integrating <code>structopt</code> and <code>clap</code> are:</p>
<ul>
<li>Easier cross-linking in documentation</li>
<li><a href="../examples">Documentation parity</a></li>
<li>Tighter design feedback loop, ensuring all new features are designed with
derives in mind and easier to change <code>clap</code> in response to <code>structopt</code> bugs.</li>
<li>Clearer endorsement of <code>structopt</code></li>
</ul>
<p>See also</p>
<ul>
<li><a href="../CHANGELOG.md#300---2021-12-31"><code>clap</code> v3 CHANGELOG</a></li>
<li><a href="../CHANGELOG.md#migrate-structopt"><code>structopt</code> migration guide</a></li>
</ul>
<h5 id="what-are-some-reasons-to-use-clap-the-pitch"><a href="#what-are-some-reasons-to-use-clap-the-pitch">What are some reasons to use <code>clap</code>? (The Pitch)</a></h5>
<p><code>clap</code> is as fast, and as lightweight as possible while still giving all the features you’d expect from a modern argument parser. In fact, for the amount and type of features <code>clap</code> offers it remains about as fast as <code>getopts</code>. If you use <code>clap</code>, when you just need some simple arguments parsed, you’ll find it’s a walk in the park. <code>clap</code> also makes it possible to represent extremely complex and advanced requirements without too much thought. <code>clap</code> aims to be intuitive, easy to use, and fully capable for wide variety use cases and needs.</p>
<h5 id="what-are-some-reasons-not-to-use-clap-the-anti-pitch"><a href="#what-are-some-reasons-not-to-use-clap-the-anti-pitch">What are some reasons <em>not</em> to use <code>clap</code>? (The Anti Pitch)</a></h5>
<p>Depending on the style in which you choose to define the valid arguments, <code>clap</code> can be very verbose. <code>clap</code> also offers so many finetuning knobs and dials, that learning everything can seem overwhelming. I strive to keep the simple cases simple, but when turning all those custom dials it can get complex. <code>clap</code> is also opinionated about parsing. Even though so much can be tweaked and tuned with <code>clap</code> (and I’m adding more all the time), there are still certain features which <code>clap</code> implements in specific ways that may be contrary to some users’ use-cases.</p>
<h5 id="reasons-to-use-clap"><a href="#reasons-to-use-clap">Reasons to use <code>clap</code></a></h5>
<ul>
<li>You want all the nice CLI features your users may expect, yet you don’t want to implement them all yourself. You’d like to focus on your application, not argument parsing.</li>
<li>In addition to the point above, you don’t want to sacrifice performance to get all those nice features.</li>
<li>You have complex requirements/conflicts between your various valid args.</li>
<li>You want to use subcommands (although other libraries also support subcommands, they are not nearly as feature rich as those provided by <code>clap</code>).</li>
<li>You want some sort of custom validation built into the argument parsing process, instead of as part of your application (which allows for earlier failures, better error messages, more cohesive experience, etc.).</li>
</ul>
<h4 id="how-many-approaches-are-there-to-create-a-parser"><a href="#how-many-approaches-are-there-to-create-a-parser">How many approaches are there to create a parser?</a></h4>
<p>The following APIs are supported:</p>
<ul>
<li><a href="../_derive/_tutorial/index.html" title="mod clap::_derive::_tutorial">Derive</a></li>
<li><a href="../_tutorial/index.html" title="mod clap::_tutorial">Builder</a></li>
</ul>
<p>Previously, we supported:</p>
<ul>
<li><a href="https://github.com/clap-rs/clap/issues/3087">YAML</a></li>
<li><a href="http://docopt.org/">docopt</a>-inspired <a href="https://github.com/clap-rs/clap/issues/3086">usage parser</a></li>
<li><a href="https://github.com/clap-rs/clap/issues/2835"><code>clap_app!</code></a></li>
</ul>
<p>There are also experiments with other APIs:</p>
<ul>
<li><a href="https://github.com/yuhr/fncmd">fncmd</a>: function attribute</li>
<li><a href="https://github.com/aobatact/clap-serde">clap-serde</a>: create an <code>Command</code> from a deserializer</li>
</ul>
<h4 id="when-should-i-use-the-builder-vs-derive-apis"><a href="#when-should-i-use-the-builder-vs-derive-apis">When should I use the builder vs derive APIs?</a></h4>
<p>Our default answer is to use the <a href="../_derive/_tutorial/index.html" title="mod clap::_derive::_tutorial">Derive API</a>:</p>
<ul>
<li>Easier to read, write, and modify</li>
<li>Easier to keep the argument declaration and reading of argument in sync</li>
<li>Easier to reuse, e.g. <a href="https://crates.io/crates/clap-verbosity-flag">clap-verbosity-flag</a></li>
</ul>
<p>The <a href="../_tutorial/index.html" title="mod clap::_tutorial">Builder API</a> is a lower-level API that someone might want to use for</p>
<ul>
<li>Faster compile times if you aren’t already using other procedural macros</li>
<li>More flexibility, e.g. you can look up an <a href="../parser/struct.ArgMatches.html#method.get_many" title="method clap::parser::ArgMatches::get_many">arguments values</a>,
their <a href="../parser/struct.ArgMatches.html#method.indices_of" title="method clap::parser::ArgMatches::indices_of">ordering with other arguments</a>, and <a href="../parser/struct.ArgMatches.html#method.value_source" title="method clap::parser::ArgMatches::value_source">what set
them</a>.  The Derive API can only report values and not
indices of or other data.</li>
</ul>
<p>You can <a href="../_derive/index.html#mixing-builder-and-derive-apis" title="mod clap::_derive">interop between Derive and Builder APIs</a>.</p>
<h4 id="why-is-there-a-default-subcommand-of-help"><a href="#why-is-there-a-default-subcommand-of-help">Why is there a default subcommand of help?</a></h4>
<p>There is only a default subcommand of <code>help</code> when other subcommands have been defined manually. So it’s opt-in(ish), being that you only get a <code>help</code> subcommand if you’re actually using subcommands.</p>
<p>Also, if the user defined a <code>help</code> subcommand themselves, the auto-generated one wouldn’t be added (meaning it’s only generated if the user hasn’t defined one themselves).</p>
</div></details></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="clap" data-themes="" data-resource-suffix="" data-rustdoc-version="1.70.0-nightly (f63ccaf25 2023-03-06)" data-search-js="search-8a59a8356673ec1f.js" data-settings-js="settings-f0c5c39777a9a2f6.js" data-settings-css="settings-0bcba95ff279c1db.css" ></div></body></html>